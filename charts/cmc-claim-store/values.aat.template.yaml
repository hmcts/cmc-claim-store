java:
  # Don't modify below here
  image: ${IMAGE_NAME}
  ingressHost: ${SERVICE_FQDN}
  keyVaults:
    cmc:
      resourceGroup: cmc
      secrets:
        - AppInsightsInstrumentationKey
        - cmc-db-password-v11
        - citizen-oauth-client-secret
        - claim-store-s2s-secret
        - anonymous-caseworker-username
        - anonymous-caseworker-password
        - system-update-username
        - system-update-password
        - notify-api-key
        - milo-recipient
        - staff-email
        - live-support-email
        - rpa-email-sealed-claim
        - rpa-email-breathing-space
        - rpa-email-legal-sealed-claim
        - rpa-email-more-time-requested
        - rpa-email-response
        - rpa-email-ccj
        - rpa-email-paid-in-full
        - launchDarkly-sdk-key
        - sendgrid-api-key
        - staff-email-legal-rep
  environment:
    MILO_CSV_SCHEDULE: "0 0 8 * * ?"
    CLAIM_STAYED_SCHEDULE: "0 0 16 ? * MON-FRI *"
    SCHEDULE_TRANSFER_CLAIMS: '0 0 12 1 * ?'
    OIDC_ISSUER: https://forgerock-am.service.core-compute-idam-aat2.internal:8443/openam/oauth2/realms/root/realms/hmcts
    CMC_DB_HOST:  "{{ .Values.postgresql.releaseNameOverride}}"
    CMC_DB_USERNAME: "{{ .Values.postgresql.auth.username}}"
    CMC_DB_PASSWORD: "{{ .Values.postgresql.auth.password}}"

postgresql:
  enabled: true
  image:
    registry: hmctspublic.azurecr.io
    repository: imported/bitnami/postgresql
    tag: '11.6.0'
  primary:
    persistence:
      enabled: false
    resources:
      requests:
        cpu: 25m
    initdb:
      scripts:
        init.sql: |
          CREATE DATABASE cmc WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
          CREATE DATABASE "claimstore" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
          CREATE DATABASE "data-store" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
          CREATE DATABASE "definition-store" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
          CREATE DATABASE "user-profile" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
          CREATE DATABASE "role_assignment" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
  auth:
    username: hmcts
    password: hmcts